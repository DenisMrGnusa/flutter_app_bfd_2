import 'package:flutter_app_bfd_2/models/article.dart';
import 'package:flutter_test/flutter_test.dart';

main () {
  test("parse topstories.json", (){
    const jsonString = "[20503194,20504208,20504695,20504734,20502437,20503612,20505132,20504942,20504368,20495047,20497546,20496148,20504164,20503162,20495260,20496643,20503529,20490423,20502727,20503813,20495520,20504471,20497548,20503462,20502032,20495854,20493431,20503330,20503917,20493838,20502393,20495158,20503061,20504303,20492321,20502235,20498474,20500794,20499200,20503058,20494660,20504073,20500119,20497678,20495739,20492721,20504606,20504414,20504950,20504917,20500694,20503348,20504851,20497541,20498658,20490585,20500412,20504039,20504799,20499957,20504753,20497796,20492373,20504361,20492087,20501414,20498562,20498259,20489964,20497883,20499070,20502119,20489843,20493947,20499808,20489141,20494787,20489350,20491368,20498454,20503184,20501408,20494730,20501606,20496636,20490017,20489668,20495501,20496011,20499467,20489570,20495483,20494916,20494272,20495233,20502367,20482812,20489875,20489383,20499842,20503712,20490580,20496648,20495250,20504290,20490087,20503800,20503558,20488838,20491965,20496179,20489007,20501795,20497921,20499909,20502006,20502789,20490728,20495105,20495950,20490749,20489909,20500097,20493699,20494747,20493329,20496111,20498874,20492744,20488675,20492748,20488584,20493253,20488533,20490094,20491874,20494105,20496889,20487189,20500002,20489704,20484444,20493106,20493878,20488402,20499345,20491091,20491571,20497076,20502918,20495797,20491876,20500618,20481512,20491910,20502312,20499929,20498710,20498836,20495866,20488897,20496910,20487972,20487625,20488872,20495772,20502321,20488487,20487248,20482050,20484904,20500695,20497779,20488724,20487657,20495836,20487860,20498632,20491257,20502320,20495597,20490666,20485006,20492085,20497048,20497041,20496221,20496955,20486462,20495498,20493467,20489142,20499684,20488539,20487707,20489975,20503064,20500371,20497237,20496570,20486830,20489117,20485919,20492381,20489904,20492617,20500732,20480261,20486318,20501793,20480669,20501046,20502781,20488875,20501020,20494129,20489325,20490682,20499109,20487542,20492120,20483660,20493759,20496504,20493617,20498689,20486178,20489013,20484449,20495658,20499760,20488592,20494378,20500998,20498411,20500864,20491203,20495623,20482768,20485876,20486348,20491251,20492852,20482291,20497383,20482886,20499397,20490540,20481987,20490639,20503688,20492449,20484547,20492291,20489558,20494462,20485514,20491622,20480827,20498876,20481171,20494278,20492416,20481130,20492303,20483681,20494401,20486570,20490301,20495834,20480995,20491810,20485978,20485870,20491329,20499798,20489303,20483911,20484398,20488114,20485225,20484597,20481223,20480398,20495184,20484100,20488799,20492455,20482902,20493198,20489122,20491984,20484330,20498403,20484858,20481551,20490270,20502082,20483970,20483783,20487002,20483685,20502077,20491556,20487762,20490048,20484197,20483325,20480723,20482895,20492145,20481225,20498706,20485014,20495280,20484231,20483161,20484998,20481026,20485807,20483902,20484594,20488623,20491781,20480277,20498875,20486902,20494239,20484558,20486893,20488572,20494783,20489022,20491822,20485038,20481494,20491671,20493998,20484479,20484589,20499890,20489046,20480323,20482424,20487691,20484224,20492275,20498646,20488886,20490721,20486466,20495050,20488436,20491754,20493268,20490661,20487302,20491267,20483591,20484540,20487205,20492042,20490990,20480412,20488645,20493556,20483126,20488793,20492566,20488425,20481182,20480837,20485859,20492278,20484995,20492176,20482601,20488075,20487490,20489373,20494941,20486009,20489551,20481186,20480886,20482572,20480329,20483955,20481982,20481925,20486564,20488292,20483700,20485216,20482396,20485508,20491479,20496327,20484958,20489937,20480715,20484252,20485739,20484172,20489144,20489115,20491960,20499966,20484624,20484461,20487593,20487590,20487184,20484979,20483894,20488624,20483689,20483637,20490177,20490144,20481449,20480194,20490828,20488896,20483642,20489650,20483157,20488922,20483499,20490444,20491718,20485542,20486393,20491306,20487187,20490252,20486491,20499457,20483434,20491463,20487300,20484777,20499108,20499963,20484282,20502197,20492867,20484732,20486477,20488815,20489052,20485045,20484852,20482374,20481829,20484306,20480847,20498142,20489307,20504426,20502176]";
    expect(parseTopStories(jsonString).first, 20503194);
  });

  test("parse article.json", (){
    const jsonString = """{"by": "dhouston","descendants": 71,"id": 8863,"kids": [9224,8917,8952,8884,8887,8869,8958,8940,8908,9005,8873,9671,9067,9055,8865,8881,8872,8955,10403,8903,8928,9125,8998,8901,8902,8907,8894,8870,8878,8980,8934,8943,8876],"score": 104,"time": 1175714200,"title": "My YC app: Dropbox - Throw away your USB drive","type": "story","url": "http://www.getdropbox.com/u/2/screencast.html"}""";
    expect(parseArticle(jsonString).by, "dhouston");
  });
}